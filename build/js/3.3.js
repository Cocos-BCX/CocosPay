webpackJsonp_name_([3],{"5UkA":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("span",{on:{click:t.goBack}},[a("v-icon",{staticClass:"back-icon",attrs:{name:"angle-left"}})],1),t._v(" "),a("span",{staticClass:"title"},[t._v(t._s(t.title))])])},o=[],r={render:n,staticRenderFns:o};e.a=r},"73l8":function(t,e,a){var n=a("xbya");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("7cf59a8e",n,!0,{})},BTfB:function(t,e,a){"use strict";function n(t){a("73l8")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("dbm7"),r=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);var s=a("5UkA"),c=a("VU/8"),l=n,u=c(r.a,s.a,!1,l,"data-v-5fafd526",null);e.default=u.exports},DXNb:function(t,e,a){var n=a("M+4U");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("0d487d24",n,!0,{})},"M+4U":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"\n.popup[data-v-5da88f7b]{position:fixed;background-color:rgba(0,0,0,0.5);top:0;left:0;right:0;bottom:0;z-index:99\n}\n.popup-container[data-v-5da88f7b]{width:100%;position:absolute;bottom:0;left:0;padding:20px;background-color:#fff\n}\n.popup-container .close[data-v-5da88f7b]{position:absolute;right:20px;top:5px;font-size:18px;cursor:pointer;color:#999\n}\n.popup-container .title[data-v-5da88f7b]{text-align:center;padding-bottom:15px;font-size:16px;border-bottom:1px dashed #e6e6e6\n}\n.popup-container .item[data-v-5da88f7b]{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;height:50px;overflow:hidden\n}\n.popup-container .item .label[data-v-5da88f7b]{white-space:nowrap;color:#999;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center\n}\n.popup-container .item .content[data-v-5da88f7b]{padding-left:5px;-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;max-width:270px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis\n}\n.popup-container .item .memo-content[data-v-5da88f7b]{max-height:50px;line-height:18px\n}\n.popup-container .item .money-label[data-v-5da88f7b]{color:#333\n}\n.popup-container .item .money-content[data-v-5da88f7b]{color:#4679fe;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end\n}\n.popup-container .item .money-content span[data-v-5da88f7b]{font-size:16px;position:relative;padding-right:5px\n}\n.popup-container .item .money-content .test-coin[data-v-5da88f7b]{font-size:14px\n}\n",""])},RxD9:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"app-container transfers"},[a("navigation",{attrs:{title:t.$t("title.transfer")}}),t._v(" "),a("el-form",{ref:"form",staticClass:"mt20",attrs:{model:t.formData,rules:t.formRules,"label-position":"top"}},[a("el-form-item",{attrs:{label:t.$t("label.ownerAccount"),prop:"from"}},[a("el-input",{staticClass:"no-border",attrs:{disabled:!0},model:{value:t.formData.from,callback:function(e){t.$set(t.formData,"from",e)},expression:"formData.from"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("label.toAddress"),prop:"to"}},[a("el-input",{staticClass:"no-border",model:{value:t.formData.to,callback:function(e){t.$set(t.formData,"to",e)},expression:"formData.to"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("label.tokenType")+t.$t("title.test"),prop:"token"}},[a("el-select",{staticClass:"no-border",staticStyle:{width:"100%"},on:{change:t.changeCoin},model:{value:t.formData.token,callback:function(e){t.$set(t.formData,"token",e)},expression:"formData.token"}},t._l(t.coins,function(t,e){return a("el-option",{key:e,attrs:{value:t.coin,label:t.coin}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("label.amount"),prop:"amount"}},[a("el-input",{staticClass:"no-border",attrs:{type:"text"},model:{value:t.formData.amount,callback:function(e){t.$set(t.formData,"amount",e)},expression:"formData.amount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.$t("label.memo"),prop:"memo"}},[a("el-input",{staticClass:"no-border",attrs:{type:"text"},model:{value:t.formData.memo,callback:function(e){t.$set(t.formData,"memo",e)},expression:"formData.memo"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"full-btn mt10",attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v(t._s(t.$t("button.send")))])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.popup,expression:"popup"}],staticClass:"popup"},[a("div",{staticClass:"popup-container"},[a("div",{staticClass:"close",on:{click:function(e){t.popup=!1}}},[a("v-icon",{attrs:{name:"times",scale:"1.4"}})],1),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s(t.$t("title.sendDetail")))]),t._v(" "),a("div",{staticClass:"popup-body"},[a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("label.ownerAccount")))]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(t.cocosAccount.accounts))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("label.toAddress")))]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(t.formData.to))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label money-label"},[t._v(t._s(t.$t("label.amount")))]),t._v(" "),a("div",{staticClass:"content money-content"},[a("span",[t._v(t._s(t.formData.amount))]),t._v("\n            "+t._s(t.formData.token)+"\n            "),a("span",{staticClass:"test-coin"},[t._v("("+t._s(t.$t("title.test"))+")")])])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"label"},[t._v(t._s(t.$t("label.memo")))]),t._v(" "),a("div",{staticClass:"content"},[t._v(t._s(t.formData.memo))])]),t._v(" "),a("el-button",{staticClass:"full-btn",attrs:{type:"primary"},on:{click:t.surePay}},[t._v(t._s(t.$t("button.surePay")))])],1)])])],1)},o=[],r={render:n,staticRenderFns:o};e.a=r},W3Iv:function(t,e,a){t.exports={default:a("wEtr"),__esModule:!0}},dbm7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"navigation",props:{title:{type:String,default:""}},methods:{goBack:function(){this.$router.go(-1)}}}},gSvA:function(t,e,a){var n=a("kM2E"),o=a("mbce")(!0);n(n.S,"Object",{entries:function(t){return o(t)}})},kOS2:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a("Xxa5"),r=n(o),i=a("W3Iv"),s=n(i),c=a("BO1k"),l=n(c),u=a("d7EF"),f=n(u),p=a("exGp"),d=n(p),m=a("Dd8w"),v=n(m),b=a("BTfB"),x=n(b),y=a("1RNw"),h=(n(y),a("NYxO")),_=a("n95b"),k=(n(_),a("eIxI")),g=(n(k),a("efDr"));(function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);e.default=t})(g),a("162o");e.default={components:{Navigation:x.default},data:function(){var t=this;return{popup:!1,formData:{from:"",to:"",token:"COCOS",amount:0,memo:""},owner:!1,formRules:{from:{validator:function(e,a,n){""===a?n(new Error(t.$i18n.t("verify.ownerAccountNull"))):n()},trigger:"blur"},to:{validator:function(e,a,n){""===a?n(new Error(t.$i18n.t("verify.toAddressNull"))):a===t.cocosAccount.accounts?n(new Error(t.$i18n.t("message.ownerError"))):n()},trigger:"blur"},token:{validator:function(e,a,n){""===a?n(new Error(t.$i18n.t("verify.tokenNull"))):a===t.cocosAccount.accounts?n(new Error(t.$i18n.t("message.ownerError"))):n()},trigger:"blur"},amount:{validator:function(e,a,n){a<0||0==a?n(new Error(t.$i18n.t("verify.noZero"))):/^(-?\d+)(\.\d+)?$/.test(a)?a.toString().split(".")[1]&&a.toString().split(".")[1].length>t.precision?n(new Error(t.$i18n.t("verify.minimum")+t.precision)):n():n(new Error(t.$i18n.t("verify.number")))},trigger:"blur"}},tokens:[],assetKey:this.$route.params.assetKey?this.$route.params.assetKey:"",coins:[],precision:"",fee:""}},computed:(0,v.default)({},(0,h.mapState)(["cocosAccount","cocosCount","accountType"]),(0,h.mapState)("wallet",["accounts"]),(0,h.mapState)("trans",["tranferInfo"]),{payName:function(){var t=this,e=this.accounts.find(function(e){return e.address===t.formData.from});return e?e.name:""}}),created:function(){var t=this;return(0,d.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.formData.from=t.cocosAccount.accounts,e.next=3,t.UserAccount().then(function(e){if(1===e.code)if(Array.isArray(e.data))t.coins=e.data;else{var a=!0,n=!1,o=void 0;try{for(var r,i=(0,l.default)((0,s.default)(e.data));!(a=(r=i.next()).done);a=!0){var c=r.value,u=(0,f.default)(c,2),p=u[0],d=u[1];t.coins.push({coin:p,amount:d})}}catch(t){n=!0,o=t}finally{try{!a&&i.return&&i.return()}finally{if(n)throw o}}}});case 3:"wallet"===t.accountType&&t.OutPutKey().then(function(e){e.data.active_private_keys&&e.data.active_private_keys.length||(t.owner=!0)}),t.changeCoin();case 5:case"end":return e.stop()}},e,t)}))()},methods:(0,v.default)({},(0,h.mapMutations)("trans",["setAccount"]),(0,h.mapActions)("trans",["tranferBCX","queryTranferRate","queryAsset","tranferBCXFree"]),(0,h.mapActions)("account",["UserAccount","OutPutKey"]),{changeCoin:function(){var t=this;return(0,d.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryAsset({assetId:t.formData.token}).then(function(e){t.precision=e.precision});case 2:return e.next=4,t.queryTranferRate({feeAssetId:"COCOS"}).then(function(e){t.fee=e.data.fee_amount.toFixed(t.precision)});case 4:case"end":return e.stop()}},e,t)}))()},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.setAccount({toAccount:e.formData.to,coin:e.formData.token,amount:e.formData.amount,memo:e.formData.memo}),e.tranferBCXFree().then(function(t){if(console.log(t),e.fee=t.data[0].fees[0].amount.toFixed(e.precision),e.owner)return void e.$kalert({message:e.$i18n.t("verify.ownerKey")});"COCOS"===e.formData.token&&t.data[0].fees[0].amount+Number(e.formData.amount)<e.cocosCount||t.data[0].fees[0].amount+Number(e.formData.amount)===e.cocosCount?e.popup=!0:("COCOS"!==e.formData.token&&(t.data[0].fees[0].amount,e.cocosCount),e.popup=!0)}))})},surePay:function(){var t=this;this.setAccount({toAccount:this.formData.to,coin:this.formData.token,amount:this.formData.amount,memo:this.formData.memo}),this.popup=!1,this.tranferBCX().then(function(e){1===e.code&&(t.$kalert({message:t.$i18n.t("alert.tranferSuccess")}),t.$router.push({name:"home"}))})}})}},kPc9:function(t,e,a){"use strict";function n(t){a("DXNb")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("kOS2"),r=a.n(o);for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);var s=a("RxD9"),c=a("VU/8"),l=n,u=c(r.a,s.a,!1,l,"data-v-5da88f7b",null);e.default=u.exports},mbce:function(t,e,a){var n=a("+E39"),o=a("lktj"),r=a("TcQ7"),i=a("NpIQ").f;t.exports=function(t){return function(e){for(var a,s=r(e),c=o(s),l=c.length,u=0,f=[];l>u;)a=c[u++],n&&!i.call(s,a)||f.push(t?[a,s[a]]:s[a]);return f}}},wEtr:function(t,e,a){a("gSvA"),t.exports=a("FeBl").Object.entries},xbya:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,"\nnav[data-v-5fafd526]{position:relative;padding:0 50px;border-bottom:1px dashed #e6e6e6\n}\n.back-icon[data-v-5fafd526]{position:absolute;top:10px;left:0;width:15px;height:30px;text-align:center;cursor:pointer\n}\n.title[data-v-5fafd526]{display:inline-block;width:100%;line-height:50px;text-align:center;font-size:18px\n}\n",""])}});